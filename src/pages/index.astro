---
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
---

<BaseLayout title="SpecViT: Vision Transformers for Stellar Parameters">
  <Nav />

  <!-- Hero Section -->
  <section class="section-full" style="margin-top: 80px; min-height: 60vh; display: flex; align-items: center; justify-content: center;">
    <div class="text-center">
      <h1 data-i18n-en="SpecViT" data-i18n-zh="SpecViT">SpecViT</h1>
      <h2 data-i18n-en="Vision Transformers for Stellar Parameter Estimation" data-i18n-zh="åŸºäºŽè§†è§‰Transformerçš„æ’æ˜Ÿå‚æ•°ä¼°è®¡">
        Vision Transformers for Stellar Parameter Estimation
      </h2>
      <p class="text-muted" style="font-size: 1.2rem; max-width: 600px; margin: 2rem auto;">
        <span data-i18n-en="Learning to read stellar spectra through self-attention" data-i18n-zh="é€šè¿‡è‡ªæ³¨æ„åŠ›æœºåˆ¶å­¦ä¹ è§£è¯»æ’æ˜Ÿå…‰è°±">
          Learning to read stellar spectra through self-attention
        </span>
      </p>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Problem Section -->
  <section id="problem" class="section">
    <h2 data-i18n-en="The Challenge" data-i18n-zh="æŒ‘æˆ˜">The Challenge</h2>
    <p>
      <span data-i18n-en="Every star's light encodes its physical propertiesâ€”gravity, temperature, composition. But extracting a single parameter (like surface gravity log g) from a noisy 7781-dimensional spectrum is non-trivial."
            data-i18n-zh="æ¯é¢—æ’æ˜Ÿçš„å…‰è°±éƒ½ç¼–ç äº†å…¶ç‰©ç†å±žæ€§â€”â€”é‡åŠ›ã€æ¸©åº¦ã€åŒ–å­¦æˆåˆ†ã€‚ä½†ä»Žä¸€ä¸ªåŒ…å«7781ä¸ªæ•°æ®ç‚¹çš„å™ªå£°å…‰è°±ä¸­æå–å•ä¸€å‚æ•°ï¼ˆå¦‚è¡¨é¢é‡åŠ›log gï¼‰å¹¶éžæ˜“äº‹ã€‚">
        Every star's light encodes its physical propertiesâ€”gravity, temperature, composition. But extracting a single parameter (like surface gravity log g) from a noisy 7781-dimensional spectrum is non-trivial.
      </span>
    </p>

    <div class="callout">
      <strong data-i18n-en="Key Insight:" data-i18n-zh="å…³é”®æ´žå¯Ÿï¼š">Key Insight:</strong>
      <span data-i18n-en="Not all wavelengths matter equally. Attention mechanisms can learn which spectral features are physically informative."
            data-i18n-zh="å¹¶éžæ‰€æœ‰æ³¢é•¿éƒ½åŒç­‰é‡è¦ã€‚æ³¨æ„åŠ›æœºåˆ¶å¯ä»¥å­¦ä¹ å“ªäº›å…‰è°±ç‰¹å¾å…·æœ‰ç‰©ç†ä¿¡æ¯ä»·å€¼ã€‚">
        Not all wavelengths matter equally. Attention mechanisms can learn which spectral features are physically informative.
      </span>
    </div>
  </section>

  <div class="section-divider"></div>

  <!-- Method Section -->
  <section id="method" class="section">
    <h2 data-i18n-en="Our Approach" data-i18n-zh="æˆ‘ä»¬çš„æ–¹æ³•">Our Approach</h2>
    <p>
      <span data-i18n-en="SpecViT applies Vision Transformer architecture to stellar spectra:"
            data-i18n-zh="SpecViTå°†è§†è§‰Transformeræž¶æž„åº”ç”¨äºŽæ’æ˜Ÿå…‰è°±ï¼š">
        SpecViT applies Vision Transformer architecture to stellar spectra:
      </span>
    </p>
    <ul style="color: var(--text-secondary); margin-left: 2rem;">
      <li data-i18n-en="Patch-based embedding: 7781-dim spectrum â†’ 256-dim patches"
          data-i18n-zh="åŸºäºŽpatchçš„åµŒå…¥ï¼š7781ç»´å…‰è°± â†’ 256ç»´patch">
        Patch-based embedding: 7781-dim spectrum â†’ 256-dim patches
      </li>
      <li data-i18n-en="6-layer Transformer with multi-head self-attention"
          data-i18n-zh="6å±‚Transformerï¼Œå¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶">
        6-layer Transformer with multi-head self-attention
      </li>
      <li data-i18n-en="Transfer learning: BOSZ synthetic â†’ DESI â†’ APOGEE real observations"
          data-i18n-zh="è¿ç§»å­¦ä¹ ï¼šBOSZåˆæˆå…‰è°± â†’ DESI â†’ APOGEEçœŸå®žè§‚æµ‹">
        Transfer learning: BOSZ synthetic â†’ DESI â†’ APOGEE real observations
      </li>
    </ul>
  </section>

  <div class="section-divider"></div>

  <!-- Results Section -->
  <section id="results" class="section-wide">
    <h2 data-i18n-en="Results" data-i18n-zh="ç»“æžœ">Results</h2>
    <div class="demo-container">
      <h3 data-i18n-en="Performance on BOSZ Test Set (10k spectra)"
          data-i18n-zh="BOSZæµ‹è¯•é›†æ€§èƒ½ï¼ˆ10kå…‰è°±ï¼‰">
        Performance on BOSZ Test Set (10k spectra)
      </h3>
      <div class="grid-3" style="margin-top: 2rem;">
        <div style="text-align: center;">
          <div style="font-size: 2.5rem; font-weight: 700; color: var(--accent-purple);">0.711</div>
          <div class="text-muted">SpecViT RÂ²</div>
        </div>
        <div style="text-align: center;">
          <div style="font-size: 2.5rem; font-weight: 700; color: var(--accent-cyan);">0.442</div>
          <div class="text-muted">SpecViT MAE</div>
        </div>
        <div style="text-align: center;">
          <div style="font-size: 2.5rem; font-weight: 700; color: var(--accent-yellow);">0.614</div>
          <div class="text-muted">LightGBM RÂ² (baseline)</div>
        </div>
      </div>
      <p class="text-center mt-2">
        <span data-i18n-en="SpecViT achieves 16% better RÂ² than gradient boosting, with particular strength on giant stars."
              data-i18n-zh="SpecViTæ¯”æ¢¯åº¦æå‡æ¨¡åž‹çš„RÂ²é«˜16%ï¼Œåœ¨å·¨æ˜Ÿä¸Šè¡¨çŽ°å°¤å…¶çªå‡ºã€‚">
          SpecViT achieves 16% better RÂ² than gradient boosting, with particular strength on giant stars.
        </span>
      </p>
    </div>

    <!-- Interactive Per-Stellar-Type Chart -->
    <div class="demo-container mt-2">
      <div id="stellar-type-chart" class="loading"></div>
    </div>
  </section>

  <script src="../islands/StellarTypeChart.ts"></script>

  <div class="section-divider"></div>

  <!-- Coming Soon Section -->
  <section class="section text-center">
    <h3 data-i18n-en="Interactive Demos Coming Soon" data-i18n-zh="äº¤äº’æ¼”ç¤ºå³å°†æŽ¨å‡º">Interactive Demos Coming Soon</h3>
    <p class="text-muted">
      <span data-i18n-en="This page is under active development. Check back soon for:"
            data-i18n-zh="æœ¬é¡µé¢æ­£åœ¨ç§¯æžå¼€å‘ä¸­ã€‚å³å°†æŽ¨å‡ºï¼š">
        This page is under active development. Check back soon for:
      </span>
    </p>
    <ul style="list-style: none; color: var(--text-secondary); margin-top: 1rem;">
      <li>âœ¨ <span data-i18n-en="Live attention map visualization" data-i18n-zh="å®žæ—¶æ³¨æ„åŠ›å›¾å¯è§†åŒ–">Live attention map visualization</span></li>
      <li>ðŸ“Š <span data-i18n-en="Interactive prediction scatter plots" data-i18n-zh="äº¤äº’å¼é¢„æµ‹æ•£ç‚¹å›¾">Interactive prediction scatter plots</span></li>
      <li>ðŸŽ¯ <span data-i18n-en="Giants vs Dwarfs performance comparison" data-i18n-zh="å·¨æ˜ŸvsçŸ®æ˜Ÿæ€§èƒ½å¯¹æ¯”">Giants vs Dwarfs performance comparison</span></li>
      <li>ðŸ“ˆ <span data-i18n-en="Training convergence curves" data-i18n-zh="è®­ç»ƒæ”¶æ•›æ›²çº¿">Training convergence curves</span></li>
    </ul>
  </section>

  <Footer />
</BaseLayout>
